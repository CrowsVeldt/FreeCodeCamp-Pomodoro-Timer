
!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t,o){"use strict";function n(e){try{var t=window[e],o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!0}catch(t){var n=window[e];return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==n.length}}function r(){!0===document.getElementById("storageToggle").checked?(window.localStorage.setItem("pomodoro",document.getElementById("pomodoroInput").value),window.localStorage.setItem("shortBreak",document.getElementById("shortBreakInput").value),window.localStorage.setItem("longBreak",document.getElementById("longBreakInput").value),window.localStorage.setItem("alarm",document.getElementById("alarmDropdown").value),window.localStorage.setItem("ticking",document.getElementById("tickToggle").checked)):i()}function i(){window.localStorage.clear()}function a(){var e=window.localStorage.getItem("pomodoro"),t=window.localStorage.getItem("shortBreak"),o=window.localStorage.getItem("longBreak"),n=window.localStorage.getItem("alarm"),r=window.localStorage.getItem("ticking");document.getElementById("pomodoroInput").value=e,document.getElementById("shortBreakInput").value=t,document.getElementById("longBreakInput").value=o,document.getElementById("alarmDropdown").value=n,document.getElementById("tickToggle").checked="true"===r,document.getElementById("storageToggle").checked=!0}Object.defineProperty(t,"__esModule",{value:!0}),t.storageAvailable=n,t.populateStorage=r,t.emptyStorage=i,t.getStoredSettings=a},function(e,t,o){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b({startTime:(new Date).getTime(),pomodoro:(0,l.getInputValue)("pomodoroInput"),shortBreak:(0,l.getInputValue)("shortBreakInput"),longBreak:(0,l.getInputValue)("longBreakInput"),pomodoroCount:0,currentActivity:"pomodoro",endTime:(new Date).getTime()+(0,l.getInputValue)("pomodoroInput")*f,timeLeft:(0,l.getInputValue)("pomodoroInput")}),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Pomodoro",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,l.getInputValue)("pomodoroInput");t.timerActive=p=!0,v=setTimeout(i,1e3,e,o,n),(0,l.toggleSettingsMenu)("hide"),(0,s.updateProgressCircle)(0,0),(0,u.updateTimerView)(o,n);var r=document.getElementById("tick");(0,c.tickingIsDesired)()&&r.play()}function r(){t.timerActive=p=!1,clearTimeout(v),(0,l.toggleSettingsMenu)("show"),document.getElementById("tick").pause()}function i(e,t,o){var n=(new Date).getTime();e.timeLeft--,(0,u.updateTimerView)(t,e.timeLeft);var r=(e.endTime-e.startTime)/1e3;(0,s.updateProgressCircle)(r,r-e.timeLeft),n>=e.endTime?a(e):v=setTimeout(i,1e3,e,t,o)}function a(e){if(null!==document.getElementById("alarm")){document.getElementById("alarm").play()}if("pomodoro"===e.currentActivity&&e.pomodoroCount<3){var t=(new Date).getTime(),o=t+e.shortBreak*f;d("You finished, Take a short break!","Short Break Started"),n(b({startTime:t,pomodoro:e.pomodoro,shortBreak:e.shortBreak,longBreak:e.longBreak,pomodoroCount:e.pomodoroCount+1,currentActivity:"shortBreak",endTime:o,timeLeft:e.shortBreak}),"Short Break",e.shortBreak)}else if("pomodoro"===e.currentActivity&&e.pomodoroCount>=3){var r=(new Date).getTime(),i=r+e.longBreak*f;d("Four in a row! Take a long one, dude.","Long Break Started"),n(b({startTime:r,pomodoro:e.pomodoro,shortBreak:e.shortBreak,longBreak:e.longBreak,pomodoroCount:0,currentActivity:"longBreak",endTime:i,timeLeft:e.longBreak}),"Long Break",e.longBreak)}else{var a=(new Date).getTime(),u=a+e.pomodoro*f;d("Recharged a bit? Good! Pick something new and go get 'em!","Pomodoro Started"),n(b({startTime:a,pomodoro:e.pomodoro,shortBreak:e.shortBreak,longBreak:e.longBreak,pomodoroCount:e.pomodoroCount,currentActivity:"pomodoro",endTime:u,timeLeft:e.pomodoro}),"Pomodoro",e.pomodoro)}}function d(e,t){var o={body:e,icon:g.default},n=new Notification(t,o);setTimeout(n.close.bind(n),7e3),n.onclick=function(e){if(null!==document.getElementById("alarm")){document.getElementById("alarm").pause()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=t.timerActive=void 0,t.beginTimer=n,t.endTimer=r;var u=o(2),l=o(3),c=o(4),s=o(6),m=o(13),g=function(e){return e&&e.__esModule?e:{default:e}}(m),p=t.timerActive=!1,v=0,f=1e3,b=t.Timer=function(e){return{startTime:e.startTime,pomodoro:e.pomodoro,shortBreak:e.shortBreak,longBreak:e.longBreak,pomodoroCount:e.pomodoroCount,currentActivity:e.currentActivity,endTime:e.endTime,timeLeft:e.timeLeft}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=document.createElement("div");e.setAttribute("id","timer");var t=document.createElement("label");t.setAttribute("for","timer"),t.setAttribute("class",m.default.title);var o=document.createElement("p"),n=document.createElement("audio");n.setAttribute("src",u.default),n.setAttribute("id","alarm");var r=document.createElement("audio");return r.setAttribute("src",c.default),r.setAttribute("id","tick"),r.setAttribute("loop",!0),e.appendChild(t),e.appendChild(o),e.appendChild(n),e.appendChild(r),e.classList.add(m.default.timer),e.addEventListener("click",function(){!1===g.timerActive?(0,g.beginTimer)():!0===g.timerActive&&(0,g.endTimer)()}),e}function i(e,t){var o=document.getElementById("timer");o.childNodes[0].innerHTML=e,o.childNodes[1].innerHTML=a(t)}function a(e){var t=e%60,o=Math.floor(e/60);return 0===t?o+":00":t<10?o+":0"+t:o+":"+t}Object.defineProperty(t,"__esModule",{value:!0}),t.createTimerView=r,t.updateTimerView=i;var d=o(5),u=n(d),l=o(10),c=n(l),s=o(11),m=n(s),g=o(1)},function(e,t,o){"use strict";function n(){var e=document.createElement("div");e.setAttribute("id","settingsParent"),e.classList.add(d.default.settingsParent);var t=document.createElement("div");t.setAttribute("id","settingsMenu"),t.classList.add(d.default.settingsMenu,d.default.visible),t.addEventListener("click",function(e){e.stopPropagation()});var o=document.createElement("button");o.innerHTML="< < <",o.setAttribute("id","settingsToggle"),o.classList.add(d.default.settingsToggle,d.default.toggleWhenMenuVisible),o.addEventListener("click",function(){var e=document.getElementById("settingsMenu");e.classList.contains(d.default.visible)?r("hide"):e.classList.contains(d.default.hidden)&&r("show")});var n=(0,c.createTimeInput)("Pomodoro","25",p,g),i=(0,c.createTimeInput)("Short Break","5",p,g),a=(0,c.createTimeInput)("Long Break","15",p,g);return t.appendChild(n),t.appendChild(i),t.appendChild(a),t.appendChild((0,l.createAlarmPicker)()),t.appendChild((0,u.createTickToggle)()),t.appendChild((0,s.createStorageToggle)()),e.appendChild(o),e.appendChild(t),e}function r(e){var t=document.getElementById("settingsMenu"),o=document.getElementById("settingsToggle");"show"===e?(t.classList.add(d.default.visible),t.classList.remove(d.default.hidden),o.classList.add(d.default.toggleWhenMenuVisible),o.classList.remove(d.default.toggleWhenMenuHidden),o.innerHTML="> > >"):"hide"===e&&(t.classList.remove(d.default.visible),t.classList.add(d.default.hidden),o.classList.remove(d.default.toggleWhenMenuVisible),o.classList.add(d.default.toggleWhenMenuHidden),o.innerHTML="< < <")}function i(e){var t=document.getElementById(e);return t.value<=p?p*m:t.value%1==0&&t.value<g?t.value*m:t.value>=g?g*m:t.value%1!=0?0:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.createSettingsMenu=n,t.toggleSettingsMenu=r,t.getInputValue=i;var a=o(9),d=function(e){return e&&e.__esModule?e:{default:e}}(a),u=o(4),l=o(14),c=o(16),s=o(17),m=60,g=60,p=1},function(e,t,o){"use strict";function n(){var e=document.createElement("label");e.setAttribute("for","tickToggle"),e.innerHTML="Ticking:";var t=document.createElement("input");return t.setAttribute("type","checkbox"),t.setAttribute("id","tickToggle"),e.appendChild(t),e.addEventListener("change",function(){!r()&&i.timerActive?document.getElementById("tick").pause():r&&i.timerActive&&document.getElementById("tick").play(),(0,a.storageAvailable)("localStorage")&&window.localStorage.getItem("pomodoro")&&(0,a.populateStorage)()}),e}function r(){return document.getElementById("tickToggle").checked}Object.defineProperty(t,"__esModule",{value:!0}),t.createTickToggle=n,t.tickingIsDesired=r;var i=o(1),a=o(0)},function(e,t,o){e.exports=o.p+"bb4835385d97375e028e9127f3375966.mp3"},function(e,t,o){"use strict";function n(){var e=document.createElement("div");e.setAttribute("id","container"),e.setAttribute("class",a.default.container);var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0, 0, "+s+", "+s),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("id","svg"),t.setAttribute("class",a.default.svg);var o=document.createElementNS("http://www.w3.org/2000/svg","circle");o.setAttribute("id","circle"),o.setAttribute("fill","transparent"),o.setAttribute("stroke","orange"),o.setAttribute("stroke-width","5%"),o.setAttribute("r",c),o.setAttribute("cx","50%"),o.setAttribute("cy","50%");var n=document.createElementNS("http://www.w3.org/2000/svg","circle");return n.setAttribute("id","cover-circle"),n.setAttribute("fill","transparent"),n.setAttribute("stroke","lightgrey"),n.setAttribute("stroke-width","5%"),n.setAttribute("r",c),n.setAttribute("cx","50%"),n.setAttribute("cy","50%"),n.setAttribute("stroke-dashoffset",0),n.setAttribute("stroke-dasharray",m),t.appendChild(o),t.appendChild(n),e.appendChild(t),e}function r(e,t){document.getElementById("cover-circle").setAttribute("stroke-dashoffset",-m/e*t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createProgressCircle=n,t.updateProgressCircle=r;var i=o(12),a=function(e){return e&&e.__esModule?e:{default:e}}(i),d=document.documentElement.clientHeight,u=document.documentElement.clientWidth,l=d<u?d:u,c=l/8,s=l/3.8,m=2*c*Math.PI},function(e,t,o){"use strict";var n=o(8),r=(function(e){e&&e.__esModule}(n),o(0)),i=o(3),a=o(2),d=o(1),u=o(6);document.body.appendChild((0,i.createSettingsMenu)()),document.body.appendChild((0,a.createTimerView)()),document.body.appendChild((0,u.createProgressCircle)()),(0,r.storageAvailable)("localStorage")&&window.localStorage.getItem("pomodoro")?((0,r.getStoredSettings)(),(0,a.updateTimerView)("Pomodoro",60*window.localStorage.getItem("pomodoro"))):(0,a.updateTimerView)("Pomodoro",1500),document.body.addEventListener("keydown",function(e){var t=window.getComputedStyle(document.getElementById("settingsMenu")).getPropertyValue("visibility");"Escape"===e.key?"hidden"===t?(0,i.toggleSettingsMenu)("show"):(0,i.toggleSettingsMenu)("hide"):" "!==e.key&&"Spacebar"!==e.key||(!1===d.timerActive?(0,d.beginTimer)():(0,d.endTimer)())}),Notification.requestPermission().then()},function(e,t){},function(e,t){e.exports={settingsParent:"_356edOIeS932m41pHoHfBF",settingsToggle:"_3ZfBuasB9PGO0PxamJsD_H",toggleWhenMenuHidden:"TRduShnxvMofQW5dgHiEs",toggleWhenMenuVisible:"_1BnA04vMUxC4I_2IwKiyAS",settingsMenu:"_39oOgQMmzYCsIg51WM1S_w",hidden:"_2nF4Q8fQMK6cpCfEByuoI5",visible:"Gg60CTpiLmw6GOOtxvve0"}},function(e,t,o){e.exports=o.p+"8459dcc6d9d47f85804d22f5f8103bce.ogg"},function(e,t){e.exports={timer:"_2GBRQbYZEkpKAPfsQ5qA7U",title:"_1hget2_IAh_7OHG1eFWSfX"}},function(e,t){e.exports={container:"_3gRYcbyFm7maThkUT9YprY",svg:"_15gEXFF7AYU9aG0K6Ljcji"}},function(e,t,o){e.exports=o.p+"9f0babc918ebabc77bba3fc6e61e7747.png"},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=document.createElement("select");e.setAttribute("id","alarmDropdown");var t=document.createElement("option");t.setAttribute("value","Watch Alarm"),t.innerHTML="Watch Alarm";var o=document.createElement("option");return o.setAttribute("value","Gong"),o.innerHTML="Gong",e.appendChild(t),e.appendChild(o),e.addEventListener("change",function(e){"Watch Alarm"===document.getElementById("alarmDropdown").value?i(d.default):"Gong"===document.getElementById("alarmDropdown").value&&i(l.default),(0,c.storageAvailable)("localStorage")&&window.localStorage.getItem("pomodoro")&&(0,c.populateStorage)()}),e}function i(e){document.getElementById("alarm").setAttribute("src",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createAlarmPicker=r,t.chooseAlarmSound=i;var a=o(5),d=n(a),u=o(15),l=n(u),c=o(0)},function(e,t,o){e.exports=o.p+"ea87cdd814d376170570dc4629c01241.mp3"},function(e,t,o){"use strict";function n(e,t,o,n){var l=document.createElement("input");l.setAttribute("id",e[0].toLowerCase()+e.substr(1).replace(/\s/g,"")+"Input"),l.setAttribute("value",t),l.setAttribute("type","number"),l.setAttribute("min",o),l.setAttribute("max",n),l.onkeydown=function(e){r(e)||e.preventDefault()},l.setAttribute("onpaste","return false");var c=document.createElement("label");return c.innerHTML=e+" Length",c.setAttribute("for",e[0].toLowerCase()+e.substr(1).replace(/\s/g,"")+"Input"),c.appendChild(l),l.addEventListener("input",function(){l.value>n?l.value=n:"0"===l.value.toString().charAt(0)&&l.value>0?l.value=l.value.toString().substr(1):!1===i.timerActive&&l.value>=o&&l.value<=n&&(0,d.updateTimerView)(e,l.value*u)}),l.addEventListener("change",function(){l.value<o&&(l.value=o),(0,a.storageAvailable)("localStorage")&&window.localStorage.getItem("pomodoro")&&(0,a.populateStorage)()}),c}function r(e){return!!/Enter|Backspace|Tab|ArrowUp|ArrowDown|ArrowRight|ArrowLeft|End|Home|Escape|Delete|[\d]/.test(e.key)}Object.defineProperty(t,"__esModule",{value:!0}),t.createTimeInput=n;var i=o(1),a=o(0),d=o(2),u=60},function(e,t,o){"use strict";function n(){var e=document.createElement("label");e.setAttribute("for","storageToggle"),e.innerHTML="Save settings locally?";var t=document.createElement("input");return t.setAttribute("type","checkbox"),t.setAttribute("id","storageToggle"),t.addEventListener("change",function(){(0,r.populateStorage)()}),(0,r.storageAvailable)("localStorage")||(t.disabled="disabled",t.indeterminate=!0),e.appendChild(t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.createStorageToggle=n;var r=o(0)}]);

//# sourceMappingURL=bundle.js.map